<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>spark.spec-tacular.schema documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Spec-tacular 0.5.0 API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>spark</span></div></div></li><li class="depth-2"><a href="spark.spec-tacular.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>spec-tacular</span></div></a></li><li class="depth-3 branch"><a href="spark.spec-tacular.datomic.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>datomic</span></div></a></li><li class="depth-3 current"><a href="spark.spec-tacular.schema.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>schema</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="spark.spec-tacular.schema.html#var-diff"><div class="inner"><span>diff</span></div></a></li><li class="depth-1"><a href="spark.spec-tacular.schema.html#var-EntityMap"><div class="inner"><span>EntityMap</span></div></a></li><li class="depth-1"><a href="spark.spec-tacular.schema.html#var-from-database"><div class="inner"><span>from-database</span></div></a></li><li class="depth-1"><a href="spark.spec-tacular.schema.html#var-from-file"><div class="inner"><span>from-file</span></div></a></li><li class="depth-1"><a href="spark.spec-tacular.schema.html#var-from-namespace"><div class="inner"><span>from-namespace</span></div></a></li><li class="depth-1"><a href="spark.spec-tacular.schema.html#var-from-spec"><div class="inner"><span>from-spec</span></div></a></li><li class="depth-1"><a href="spark.spec-tacular.schema.html#var-from-specs"><div class="inner"><span>from-specs</span></div></a></li><li class="depth-1"><a href="spark.spec-tacular.schema.html#var-InstallableEntityMap"><div class="inner"><span>InstallableEntityMap</span></div></a></li><li class="depth-1"><a href="spark.spec-tacular.schema.html#var-normalize"><div class="inner"><span>normalize</span></div></a></li><li class="depth-1"><a href="spark.spec-tacular.schema.html#var-read"><div class="inner"><span>read</span></div></a></li><li class="depth-1"><a href="spark.spec-tacular.schema.html#var-read-string"><div class="inner"><span>read-string</span></div></a></li><li class="depth-1"><a href="spark.spec-tacular.schema.html#var-Schema"><div class="inner"><span>Schema</span></div></a></li><li class="depth-1"><a href="spark.spec-tacular.schema.html#var-spec-tacular-map"><div class="inner"><span>spec-tacular-map</span></div></a></li><li class="depth-1"><a href="spark.spec-tacular.schema.html#var-to-database.21"><div class="inner"><span>to-database!</span></div></a></li><li class="depth-1"><a href="spark.spec-tacular.schema.html#var-to-file"><div class="inner"><span>to-file</span></div></a></li><li class="depth-1"><a href="spark.spec-tacular.schema.html#var-write"><div class="inner"><span>write</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">spark.spec-tacular.schema</h2><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-diff"><h3>diff</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns the difference between two schemas as three sets: * the entries only in <code>schema1</code>, * the entries only in <code>schema2</code>, * the entries in both <code>schema1</code> and <code>schema2</code></p></div></div></div><div class="public anchor" id="var-EntityMap"><h3>EntityMap</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>An EntityMap is a (possibly partial) description of a Datomic entity.</p><p>(t/HMap  :mandatory  {:db/ident t/Keyword, :db/valueType t/Any}  :optional  {:db/id datomic.db.DbId,  :db/cardinality (t/U &lsquo;:db.cardinality/one &rsquo;:db.cardinality/many),  :db/fn (t/Map t/Keyword t/Any),  :db.install/_attribute t/Keyword})</p></div></div></div><div class="public anchor" id="var-from-database"><h3>from-database</h3><div class="usage"><code>(from-database db)</code></div><div class="doc"><div class="markdown"><p>Returns the Schema in the given <a href="spark.spec-tacular.datomic.html#var-Database">Database</a>, <a href="spark.spec-tacular.datomic.html#var-Connection">Connection</a>, or <a href="spark.spec-tacular.datomic.html#var-ConnCtx">spark.spec-tacular.datomic/ConnCtx</a>.</p></div></div></div><div class="public anchor" id="var-from-file"><h3>from-file</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns the <a href="spark.spec-tacular.schema.html#var-Schema">Schema</a> inside the given file</p></div></div></div><div class="public anchor" id="var-from-namespace"><h3>from-namespace</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Converts all specs in a namespace into a <a href="spark.spec-tacular.schema.html#var-Schema">Schema</a></p></div></div></div><div class="public anchor" id="var-from-spec"><h3>from-spec</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Generates a Schema to represent the given spec.</p></div></div></div><div class="public anchor" id="var-from-specs"><h3>from-specs</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Converts a sequence of specs (which may be actual spec objects or keywords) into a <a href="spark.spec-tacular.schema.html#var-Schema">Schema</a></p></div></div></div><div class="public anchor" id="var-InstallableEntityMap"><h3>InstallableEntityMap</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>A a full description of a Datomic entity that can be installed as  part of a Datomic schema.</p><p>(t/HMap  :mandatory  {:db/id datomic.db.DbId,  :db/ident t/Keyword,  :db/valueType t/Any,  :db/cardinality (t/U &lsquo;:db.cardinality/one &rsquo;:db.cardinality/many),  :db.install/_attribute (t/U (t/Val :db.part/db))}  :optional  {:db/fn (t/Map t/Keyword t/Any), :db/doc t/Str})</p></div></div></div><div class="public anchor" id="var-normalize"><h3>normalize</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Normalizes a Schema for comparison. * removes any mappings for attributes that Datomic adds automatically * removes <code>:db/id</code> and <code>:db.install/_attribute</code> attributes from each mapping * ensures each entry has a <code>:db/unique</code> attribute, even if it&rsquo;s <code>nil</code> * simplifies <code>:db/fn</code> fields so that they are comparable with <code>=</code></p></div></div></div><div class="public anchor" id="var-read"><h3>read</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns the Schema inside the given stream</p></div></div></div><div class="public anchor" id="var-read-string"><h3>read-string</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Returns the Schema inside the given string</p></div></div></div><div class="public anchor" id="var-Schema"><h3>Schema</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>A Schema is a list of mappings that can be used as a  <a href="http://docs.datomic.com/schema.html">Datomic schema</a>. Schemas can  be created from <code>defspec</code>s, or can be recreated from files and  databases.</p><p>(t/Seq EntityMap)</p></div></div></div><div class="public anchor" id="var-spec-tacular-map"><h3>spec-tacular-map</h3><div class="usage"></div><div class="doc"><div class="markdown"></div></div></div><div class="public anchor" id="var-to-database.21"><h3>to-database!</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Creates a fresh database with schema installed and returns a connection to that database. The schema should not already contain <a href="spark.spec-tacular.schema.html#var-spec-tacular-map">spec-tacular-map</a>.</p></div></div></div><div class="public anchor" id="var-to-file"><h3>to-file</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Writes the schema to then given file</p></div></div></div><div class="public anchor" id="var-write"><h3>write</h3><div class="usage"></div><div class="doc"><div class="markdown"><p>Writes the schema to w, adding in <a href="spark.spec-tacular.schema.html#var-spec-tacular-map">spec-tacular-map</a>.</p></div></div></div></div></body></html>